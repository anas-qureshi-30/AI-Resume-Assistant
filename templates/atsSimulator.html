<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static',filename='css/homePage.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='css/atsSimulator.css')}}">
    <script src="{{url_for('static',filename='js/atsSimulator.js')}}"></script>
    <title>ATS Simulator - AI Resume Assistant</title>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">AI Resume Assistant</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#" class="active">ATS Simulator</a></li>
                <li><a href="/generator">Generator</a></li>
                <li><a href="/jdParser">JD Parser</a></li>
                <li><a href="#" class="cta-button">Dashboard</a></li>
            </ul>
        </div>
    </nav>

    <section class="ats-hero">
        <div class="hero-content">
            <h1>ü§ñ ATS Simulator</h1>
            <p>See how Applicant Tracking Systems scan your resume and discover optimization opportunities</p>
        </div>
    </section>

    <section class="ats-main">
        <div class="container">
            <!-- Resume Status & Job Description Input -->
            <div class="ats-setup-section">
                <div class="job-description-card">
                    <h3>üéØ Target Job Description</h3>
                    <p>Paste the job description to analyze keyword matching</p>
                    <textarea 
                        id="job-description" 
                        placeholder="Paste the job description here for better ATS analysis...&#10;&#10;Example:&#10;We are looking for a Senior Software Engineer with experience in Python, React, AWS, Docker, and agile methodologies. The ideal candidate will have 5+ years of experience building scalable web applications..."
                        rows="8"
                    ></textarea>
                    <div class="jd-actions">
                        <button class="btn-primary" onclick="runATSAnalysis()" id="analyze-btn">
                            <span class="btn-text">Run ATS Analysis</span>
                            <span class="loading" style="display: none;">‚åõ</span>
                        </button>
                        <button class="btn-outline" onclick="loadSampleJD()">Load Sample JD</button>
                    </div>
                </div>
            </div>

            <!-- ATS Score Overview -->
            <div class="ats-score-section" id="score-section" style="display: none;">
                <div class="score-card">
                    <div class="score-header">
                        <h2>ATS Compatibility Score</h2>
                        <p>Based on formatting, keywords, and structure analysis</p>
                    </div>
                    
                    <div class="score-visual">
                        <div class="score-circle">
                            <div class="score-number" id="ats-score">0</div>
                            <div class="score-label">/ 100</div>
                        </div>
                        <div class="score-details">
                            <div class="score-breakdown">
                                <div class="breakdown-item">
                                    <span class="breakdown-label">Keywords</span>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill" id="keywords-score" style="width: 0%"></div>
                                    </div>
                                    <span class="breakdown-value" id="keywords-value">0%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">Formatting</span>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill" id="formatting-score" style="width: 0%"></div>
                                    </div>
                                    <span class="breakdown-value" id="formatting-value">0%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">Structure</span>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill" id="structure-score" style="width: 0%"></div>
                                    </div>
                                    <span class="breakdown-value" id="structure-value">0%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">Content</span>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill" id="content-score" style="width: 0%"></div>
                                    </div>
                                    <span class="breakdown-value" id="content-value">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="score-interpretation">
                        <div class="interpretation-item" id="score-interpretation">
                            <span class="interpretation-icon">üéØ</span>
                            <div class="interpretation-text">
                                <strong>Good ATS Compatibility</strong>
                                <p>Your resume should pass most ATS systems with minor optimizations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Detailed Analysis Results -->
            <div class="ats-results" id="results-section" style="display: none;">
                <div class="results-tabs">
                    <button class="tab-btn active" onclick="switchResultTab('passed')" id="passed-tab">
                        ‚úÖ Passed Checks (<span id="passed-count">0</span>)
                    </button>
                    <button class="tab-btn" onclick="switchResultTab('issues')" id="issues-tab">
                        ‚ö†Ô∏è Issues Found (<span id="issues-count">0</span>)
                    </button>
                    <button class="tab-btn" onclick="switchResultTab('suggestions')" id="suggestions-tab">
                        üí° Suggestions (<span id="suggestions-count">0</span>)
                    </button>
                    <button class="tab-btn" onclick="switchResultTab('keywords')" id="keywords-tab">
                        üîç Keywords Analysis
                    </button>
                </div>

                <div class="tab-content active" id="passed-content">
                    <div class="analysis-card">
                        <h3>‚úÖ Passed ATS Checks</h3>
                        <div class="checks-list" id="passed-checks">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="issues-content">
                    <div class="analysis-card">
                        <h3>‚ö†Ô∏è Issues That May Block ATS</h3>
                        <div class="issues-list" id="issues-list">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="suggestions-content">
                    <div class="analysis-card">
                        <h3>üí° Optimization Suggestions</h3>
                        <div class="suggestions-list" id="suggestions-list">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="keywords-content">
                    <div class="analysis-card">
                        <h3>üîç Keywords Analysis</h3>
                        <div class="keywords-analysis" id="keywords-analysis">
                            <div class="keywords-section">
                                <h4>‚úÖ Found Keywords</h4>
                                <div class="keywords-grid" id="found-keywords">
                                    <!-- Dynamic content -->
                                </div>
                            </div>
                            <div class="keywords-section">
                                <h4>‚ùå Missing Keywords</h4>
                                <div class="keywords-grid" id="missing-keywords">
                                    <!-- Dynamic content -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="ats-actions" id="actions-section" style="display: none;">
                <div class="actions-card">
                    <h3>üöÄ Next Steps</h3>
                    <div class="action-buttons">
                        <button class="btn-primary" onclick="downloadReport()">
                            üìÑ Download Report
                        </button>
                        <button class="btn-secondary" onclick="window.location.href='/generator'">
                            üîß Optimize Resume
                        </button>
                        <button class="btn-outline" onclick="runNewAnalysis()">
                            üîÑ Run New Analysis
                        </button>
                        <button class="btn-outline" onclick="shareResults()">
                            üì§ Share Results
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Notification System -->
    <div class="notification" id="notification">
        <div id="notification-message"></div>
    </div>

    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeATS();
        });
    </script>
</body>
</html>