<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Resume Using AI - AI Resume Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #06d6a0;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --gray: #64748b;
            --light-gray: #f1f5f9;
            --white: #fff;
            --glass: rgba(255, 255, 255, 0.1);
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 40px -12px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .logo::before {
            content: "ü§ñ";
            font-size: 1.8rem;
        }

        .back-button {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 6rem 2rem 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #f0f9ff);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .form-container {
            background: white;
            border-radius: 1.5rem;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 6px;
            background: var(--light-gray);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }

        .form-section {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .form-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-description {
            color: var(--gray);
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .required {
            color: var(--danger);
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .dynamic-list {
            border: 2px dashed #e5e7eb;
            border-radius: 0.75rem;
            padding: 1rem;
            background: #f9fafb;
        }

        .list-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .remove-item {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-item {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .add-item:hover {
            background: var(--primary-dark);
        }

        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .skill-tag {
            background: var(--primary);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .skill-tag button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0;
            margin-left: 0.25rem;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem;
            background: var(--light-gray);
            border-top: 1px solid #e5e7eb;
        }

        .btn {
            padding: 0.875rem 2rem;
            border: none;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--gray);
            color: white;
        }

        .btn-secondary:hover {
            background: #475569;
        }

        .btn-success {
            background: var(--success);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e7eb;
            color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin: 0 1rem;
            position: relative;
        }

        .step.active {
            background: var(--primary);
            color: white;
        }

        .step.completed {
            background: var(--success);
            color: white;
        }

        .step::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 2rem;
            height: 2px;
            background: #e5e7eb;
            transform: translateY(-50%);
        }

        .step:last-child::after {
            display: none;
        }

        .step.completed::after {
            background: var(--success);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .generated-resume {
            display: none;
            background: white;
            border-radius: 1.5rem;
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            margin-top: 2rem;
        }

        .generated-resume.active {
            display: block;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 6rem 1rem 2rem;
            }

            .navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .step-indicator {
                overflow-x: auto;
                padding: 0 1rem;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">AI Resume Assistant</a>
            <a href="/" class="back-button">‚Üê Back to Home</a>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <h1>üöÄ Generate Resume Using AI</h1>
            <p>Fill in your details and let our AI create a professional, ATS-optimized resume tailored to your target
                role</p>
        </div>

        <div class="step-indicator">
            <div class="step active" data-step="1">1</div>
            <div class="step" data-step="2">2</div>
            <div class="step" data-step="3">3</div>
            <div class="step" data-step="4">4</div>
            <div class="step" data-step="5">5</div>
        </div>

        <div class="form-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <form id="resumeForm">
                <!-- Step 1: Personal Information -->
                <div class="form-section active" id="step1">
                    <h2 class="section-title">üë§ Personal Information</h2>
                    <p class="section-description">Let's start with your basic contact information</p>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="firstName">First Name <span class="required">*</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name <span class="required">*</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number <span class="required">*</span></label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" name="city" placeholder="e.g., New York">
                        </div>
                        <div class="form-group">
                            <label for="state">State/Province</label>
                            <input type="text" id="state" name="state" placeholder="e.g., NY">
                        </div>
                        <div class="form-group">
                            <label for="linkedIn">LinkedIn Profile</label>
                            <input type="url" id="linkedIn" name="linkedIn"
                                placeholder="https://linkedin.com/in/yourprofile">
                        </div>
                        <div class="form-group">
                            <label for="portfolio">Portfolio/Website</label>
                            <input type="url" id="portfolio" name="portfolio" placeholder="https://yourwebsite.com">
                        </div>
                    </div>
                </div>

                <!-- Step 2: Professional Summary & Target Role -->
                <div class="form-section" id="step2">
                    <h2 class="section-title">üéØ Professional Profile</h2>
                    <p class="section-description">Define your professional identity and career objectives</p>

                    <div class="form-group full-width">
                        <label for="targetRole">Target Job Title/Role <span class="required">*</span></label>
                        <input type="text" id="targetRole" name="targetRole"
                            placeholder="e.g., Senior Software Engineer, Marketing Manager" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="professionalSummary">Professional Summary</label>
                        <textarea id="professionalSummary" name="professionalSummary"
                            placeholder="Brief overview of your professional background, key skills, and career achievements. If left blank, AI will generate based on your information."></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label for="careerObjective">Career Objective (Optional)</label>
                        <textarea id="careerObjective" name="careerObjective"
                            placeholder="Your career goals and what you're looking to achieve in your next role."></textarea>
                    </div>
                </div>

                <!-- Step 3: Experience -->
                <div class="form-section" id="step3">
                    <h2 class="section-title">üíº Professional Experience</h2>
                    <p class="section-description">Add your work experience, starting with your most recent position</p>

                    <div class="dynamic-list" id="experienceList">
                        <div class="list-item" data-index="0">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Job Title <span class="required">*</span></label>
                                    <input type="text" name="experience[0][title]" placeholder="e.g., Software Engineer"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label>Company Name <span class="required">*</span></label>
                                    <input type="text" name="experience[0][company]" placeholder="e.g., Google"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label>Start Date</label>
                                    <input type="month" name="experience[0][startDate]">
                                </div>
                                <div class="form-group">
                                    <label>End Date</label>
                                    <input type="month" name="experience[0][endDate]"
                                        placeholder="Leave blank if current position">
                                </div>
                                <div class="form-group full-width">
                                    <label>Location</label>
                                    <input type="text" name="experience[0][location]"
                                        placeholder="e.g., San Francisco, CA">
                                </div>
                                <div class="form-group full-width">
                                    <label>Key Responsibilities & Achievements</label>
                                    <textarea name="experience[0][description]" placeholder="‚Ä¢ Developed and maintained web applications using React and Node.js
‚Ä¢ Led a team of 5 developers on project delivery
‚Ä¢ Improved application performance by 40%"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-item" onclick="addExperience()">+ Add Another Position</button>
                </div>

                <!-- Step 4: Education & Skills -->
                <div class="form-section" id="step4">
                    <h2 class="section-title">üéì Education & Skills</h2>
                    <p class="section-description">Your educational background and technical/soft skills</p>

                    <h3 style="margin-bottom: 1rem; color: var(--primary);">Education</h3>
                    <div class="dynamic-list" id="educationList">
                        <div class="list-item" data-index="0">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Degree/Certification <span class="required">*</span></label>
                                    <input type="text" name="education[0][degree]"
                                        placeholder="e.g., Bachelor of Science in Computer Science" required>
                                </div>
                                <div class="form-group">
                                    <label>Institution <span class="required">*</span></label>
                                    <input type="text" name="education[0][school]"
                                        placeholder="e.g., Stanford University" required>
                                </div>
                                <div class="form-group">
                                    <label>Graduation Year</label>
                                    <input type="number" name="education[0][year]" min="1950" max="2030"
                                        placeholder="2023">
                                </div>
                                <div class="form-group">
                                    <label>GPA (Optional)</label>
                                    <input type="text" name="education[0][gpa]" placeholder="3.8/4.0">
                                </div>
                                <div class="form-group full-width">
                                    <label>Relevant Coursework/Honors</label>
                                    <textarea name="education[0][details]"
                                        placeholder="Relevant coursework, honors, dean's list, etc."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-item" onclick="addEducation()">+ Add Another
                        Degree/Certification</button>

                    <h3 style="margin: 2rem 0 1rem; color: var(--primary);">Skills</h3>
                    <div class="form-group">
                        <label for="skillInput">Technical Skills</label>
                        <input type="text" id="skillInput"
                            placeholder="Type a skill and press Enter (e.g., Python, React, Project Management)">
                        <div class="skill-tags" id="skillTags"></div>
                    </div>

                    <div class="form-group">
                        <label for="softSkillInput">Soft Skills</label>
                        <input type="text" id="softSkillInput"
                            placeholder="Type a soft skill and press Enter (e.g., Leadership, Communication)">
                        <div class="skill-tags" id="softSkillTags"></div>
                    </div>

                    <div class="form-group">
                        <label for="languages">Languages</label>
                        <input type="text" id="languageInput"
                            placeholder="Type a language and press Enter (e.g., English - Native, Spanish - Fluent)">
                        <div class="skill-tags" id="languageTags"></div>
                    </div>
                </div>

                <!-- Step 5: Additional Information -->
                <div class="form-section" id="step5">
                    <h2 class="section-title">‚ú® Additional Information</h2>
                    <p class="section-description">Projects, achievements, and other relevant information</p>

                    <h3 style="margin-bottom: 1rem; color: var(--primary);">Projects</h3>
                    <div class="dynamic-list" id="projectsList">
                        <div class="list-item" data-index="0">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Project Name</label>
                                    <input type="text" name="projects[0][name]" placeholder="e.g., E-commerce Website">
                                </div>
                                <div class="form-group">
                                    <label>Technologies Used</label>
                                    <input type="text" name="projects[0][tech]"
                                        placeholder="e.g., React, Node.js, MongoDB">
                                </div>
                                <div class="form-group full-width">
                                    <label>Project Description</label>
                                    <textarea name="projects[0][description]"
                                        placeholder="Brief description of the project, your role, and key achievements"></textarea>
                                </div>
                                <div class="form-group full-width">
                                    <label>Project URL (Optional)</label>
                                    <input type="url" name="projects[0][url]"
                                        placeholder="https://github.com/yourproject">
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-item" onclick="addProject()">+ Add Another Project</button>

                    <h3 style="margin: 2rem 0 1rem; color: var(--primary);">Achievements & Awards</h3>
                    <div class="form-group">
                        <textarea name="achievements" placeholder="List your notable achievements, awards, publications, or certifications:
‚Ä¢ Winner of XYZ Hackathon 2023
‚Ä¢ Published research paper on Machine Learning
‚Ä¢ AWS Certified Solutions Architect
‚Ä¢ Employee of the Month - June 2023"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="additionalInfo">Additional Information</label>
                        <textarea id="additionalInfo" name="additionalInfo"
                            placeholder="Any other relevant information like volunteer work, hobbies, or interests that relate to your career"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="resumeStyle">Resume Style Preference</label>
                        <select id="resumeStyle" name="resumeStyle">
                            <option value="modern">Modern & Clean</option>
                            <option value="professional">Professional & Traditional</option>
                            <option value="creative">Creative & Visual</option>
                            <option value="minimal">Minimal & Simple</option>
                        </select>
                    </div>
                </div>
            </form>

            <div class="navigation">
                <button type="button" class="btn btn-secondary" id="prevBtn" onclick="prevStep()">Previous</button>
                <div>
                    <span id="stepInfo">Step 1 of 5</span>
                </div>
                <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">Next</button>
                <button type="button" class="btn btn-success" id="generateBtn" onclick="generateResume()"
                    style="display: none;">üöÄ Generate Resume</button>
            </div>
        </div>

        <div class="loading" id="loadingSection">
            <div class="spinner"></div>
            <h3>Generating Your AI-Powered Resume...</h3>
            <p>Our AI is analyzing your information and creating a professional, ATS-optimized resume tailored to your
                target role.</p>
        </div>

        <div class="generated-resume" id="generatedResume">
            <h2>üéâ Your Resume is Ready!</h2>
            <p>Your AI-generated resume has been created successfully. You can download it or make further
                customizations.</p>

            <div style="margin: 2rem 0; display: flex; gap: 1rem; flex-wrap: wrap;">
                <button class="btn btn-primary">üì• Download PDF</button>
                <button class="btn btn-secondary">üìù Download DOCX</button>
                <button class="btn btn-secondary">‚úèÔ∏è Edit Resume</button>
                <button class="btn btn-secondary">üîÑ Generate New Version</button>
            </div>

            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 0.75rem; margin-top: 2rem;">
                <h4>Resume Preview</h4>
                <div id="resumePreview"
                    style="background: white; padding: 2rem; border-radius: 0.5rem; margin-top: 1rem; border: 1px solid #e5e7eb;">
                    <!-- Resume preview will be generated here -->
                    <div style="text-align: center; color: var(--gray);">
                        Resume preview will appear here after generation...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let totalSteps = 5;
        let skills = [];
        let softSkills = [];
        let languages = [];
        let experienceCount = 1;
        let educationCount = 1;
        let projectCount = 1;

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('stepInfo').textContent = `Step ${currentStep} of ${totalSteps}`;

            // Update step indicators
            document.querySelectorAll('.step').forEach((step, index) => {
                const stepNum = index + 1;
                if (stepNum < currentStep) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (stepNum === currentStep) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });

            // Update navigation buttons
            document.getElementById('prevBtn').style.display = currentStep === 1 ? 'none' : 'block';
            document.getElementById('nextBtn').style.display = currentStep === totalSteps ? 'none' : 'block';
            document.getElementById('generateBtn').style.display = currentStep === totalSteps ? 'block' : 'none';
        }

        function showStep(step) {
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`step${step}`).classList.add('active');
        }

        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < totalSteps) {
                    currentStep++;
                    showStep(currentStep);
                    updateProgress();
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
                updateProgress();
            }
        }

        function validateCurrentStep() {
            const currentSection = document.getElementById(`step${currentStep}`);
            const requiredFields = currentSection.querySelectorAll('input[required], textarea[required], select[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.style.borderColor = 'var(--danger)';
                    isValid = false;
                } else {
                    field.style.borderColor = '#e5e7eb';
                }
            });

            if (!isValid) {
                alert('Please fill in all required fields before proceeding.');
            }

            return isValid;
        }

        // Skill management functions
        function addSkill(skillType) {
            const input = document.getElementById(`${skillType}Input`);
            const tagsContainer = document.getElementById(`${skillType}Tags`);
            const skillValue = input.value.trim();

            if (skillValue) {
                const skillArray = skillType === 'skill' ? skills :
                    skillType === 'softSkill' ? softSkills : languages;

                if (!skillArray.includes(skillValue)) {
                    skillArray.push(skillValue);

                    const tag = document.createElement('div');
                    tag.className = 'skill-tag';
                    tag.innerHTML = `
                        ${skillValue}
                        <button type="button" onclick="removeSkill('${skillType}', '${skillValue}', this.parentElement)">x</button>
                    `;
                    tagsContainer.appendChild(tag);
                }
                input.value = '';
            }
        }

        function removeSkill(skillType, skillValue, element) {
            const skillArray = skillType === 'skill' ? skills :
                skillType === 'softSkill' ? softSkills : languages;
            const index = skillArray.indexOf(skillValue);
            if (index > -1) {
                skillArray.splice(index, 1);
            }
            element.remove();
        }

        // Dynamic list management
        function addExperience() {
            const list = document.getElementById('experienceList');
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.setAttribute('data-index', experienceCount);

            newItem.innerHTML = `
                <button type="button" class="remove-item" onclick="removeListItem(this)">x</button>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Job Title <span class="required">*</span></label>
                        <input type="text" name="experience[${experienceCount}][title]" placeholder="e.g., Software Engineer" required>
                    </div>
                    <div class="form-group">
                        <label>Company Name <span class="required">*</span></label>
                        <input type="text" name="experience[${experienceCount}][company]" placeholder="e.g., Google" required>
                    </div>
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="month" name="experience[${experienceCount}][startDate]">
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="month" name="experience[${experienceCount}][endDate]" placeholder="Leave blank if current position">
                    </div>
                    <div class="form-group full-width">
                        <label>Location</label>
                        <input type="text" name="experience[${experienceCount}][location]" placeholder="e.g., San Francisco, CA">
                    </div>
                    <div class="form-group full-width">
                        <label>Key Responsibilities & Achievements</label>
                        <textarea name="experience[${experienceCount}][description]" 
                                placeholder="‚Ä¢ Developed and maintained web applications using React and Node.js
‚Ä¢ Led a team of 5 developers on project delivery
‚Ä¢ Improved application performance by 40%"></textarea>
                    </div>
                </div>
            `;

            list.appendChild(newItem);
            experienceCount++;
        }

        function addEducation() {
            const list = document.getElementById('educationList');
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.setAttribute('data-index', educationCount);

            newItem.innerHTML = `
                <button type="button" class="remove-item" onclick="removeListItem(this)">√ó</button>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Degree/Certification <span class="required">*</span></label>
                        <input type="text" name="education[${educationCount}][degree]" placeholder="e.g., Bachelor of Science in Computer Science" required>
                    </div>
                    <div class="form-group">
                        <label>Institution <span class="required">*</span></label>
                        <input type="text" name="education[${educationCount}][school]" placeholder="e.g., Stanford University" required>
                    </div>
                    <div class="form-group">
                        <label>Graduation Year</label>
                        <input type="number" name="education[${educationCount}][year]" min="1950" max="2030" placeholder="2023">
                    </div>
                    <div class="form-group">
                        <label>GPA (Optional)</label>
                        <input type="text" name="education[${educationCount}][gpa]" placeholder="3.8/4.0">
                    </div>
                    <div class="form-group full-width">
                        <label>Relevant Coursework/Honors</label>
                        <textarea name="education[${educationCount}][details]" 
                                placeholder="Relevant coursework, honors, dean's list, etc."></textarea>
                    </div>
                </div>
            `;

            list.appendChild(newItem);
            educationCount++;
        }

        function addProject() {
            const list = document.getElementById('projectsList');
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.setAttribute('data-index', projectCount);

            newItem.innerHTML = `
                <button type="button" class="remove-item" onclick="removeListItem(this)">x</button>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Project Name</label>
                        <input type="text" name="projects[${projectCount}][name]" placeholder="e.g., E-commerce Website">
                    </div>
                    <div class="form-group">
                        <label>Technologies Used</label>
                        <input type="text" name="projects[${projectCount}][tech]" placeholder="e.g., React, Node.js, MongoDB">
                    </div>
                    <div class="form-group full-width">
                        <label>Project Description</label>
                        <textarea name="projects[${projectCount}][description]" 
                                placeholder="Brief description of the project, your role, and key achievements"></textarea>
                    </div>
                    <div class="form-group full-width">
                        <label>Project URL (Optional)</label>
                        <input type="url" name="projects[${projectCount}][url]" placeholder="https://github.com/yourproject">
                    </div>
                </div>
            `;

            list.appendChild(newItem);
            projectCount++;
        }

        function removeListItem(button) {
            button.parentElement.remove();
        }

        // Event listeners for skill inputs
        document.addEventListener('DOMContentLoaded', function () {
            const skillInputs = ['skillInput', 'softSkillInput', 'languageInput'];

            skillInputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                if (input) {
                    input.addEventListener('keypress', function (e) {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            const skillType = inputId.replace('Input', '');
                            addSkill(skillType);
                        }
                    });
                }
            });

            updateProgress();
        });

        async function generateResume() {
            if (!validateCurrentStep()) return;

            // Show loading screen
            document.querySelector('.form-container').style.display = 'none';
            document.getElementById('loadingSection').classList.add('active');

            // Collect all form data
            const formData = new FormData(document.getElementById('resumeForm'));
            const resumeData = {
                personalInfo: {
                    firstName: formData.get('firstName'),
                    lastName: formData.get('lastName'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    city: formData.get('city'),
                    state: formData.get('state'),
                    linkedIn: formData.get('linkedIn'),
                    portfolio: formData.get('portfolio')
                },
                professionalProfile: {
                    targetRole: formData.get('targetRole'),
                    professionalSummary: formData.get('professionalSummary'),
                    careerObjective: formData.get('careerObjective')
                },
                skills: {
                    technical: skills,
                    soft: softSkills,
                    languages: languages
                },
                resumeStyle: formData.get('resumeStyle'),
                achievements: formData.get('achievements'),
                additionalInfo: formData.get('additionalInfo')
            };

            // Collect experience data
            resumeData.experience = [];
            for (let i = 0; i < experienceCount; i++) {
                const title = formData.get(`experience[${i}][title]`);
                if (title) {
                    resumeData.experience.push({
                        title: title,
                        company: formData.get(`experience[${i}][company]`),
                        startDate: formData.get(`experience[${i}][startDate]`),
                        endDate: formData.get(`experience[${i}][endDate]`),
                        location: formData.get(`experience[${i}][location]`),
                        description: formData.get(`experience[${i}][description]`)
                    });
                }
            }

            // Collect education data
            resumeData.education = [];
            for (let i = 0; i < educationCount; i++) {
                const degree = formData.get(`education[${i}][degree]`);
                if (degree) {
                    resumeData.education.push({
                        degree: degree,
                        school: formData.get(`education[${i}][school]`),
                        year: formData.get(`education[${i}][year]`),
                        gpa: formData.get(`education[${i}][gpa]`),
                        details: formData.get(`education[${i}][details]`)
                    });
                }
            }

            // Collect project data
            resumeData.projects = [];
            for (let i = 0; i < projectCount; i++) {
                const name = formData.get(`projects[${i}][name]`);
                if (name) {
                    resumeData.projects.push({
                        name: name,
                        tech: formData.get(`projects[${i}][tech]`),
                        description: formData.get(`projects[${i}][description]`),
                        url: formData.get(`projects[${i}][url]`)
                    });
                }
            }
            try{
                const response=await fetch("/api/resumeGenerator",{
                    method:"POST",
                    headers:{
                        "Content-Type":"application/json"
                    },
                    body:JSON.stringify({"resumeData":resumeData})
                })
                const data=await response.json()
                const dataObj=data.aiResponse
                console.log(dataObj)
                generateResumePreview(dataObj)
            }catch(error){
                console.log(error)
            }finally{
                document.getElementById('loadingSection').classList.remove('active');
                document.getElementById('generatedResume').classList.add('active');
            }
        }

        function generateResumePreview(data) {
            const preview = document.getElementById('resumePreview');
            preview.innerHTML=data
        }
    </script>
</body>

</html>